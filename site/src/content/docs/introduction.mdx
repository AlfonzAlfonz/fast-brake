---
title: Introduction to fast-brake
description: "ES feature detection with zero runtime dependencies. Analyzes JavaScript code to detect ECMAScript features and verify compatibility with target ES versions."
---

<div className="flex flex-wrap gap-2 mb-8">
  <a href="https://badge.fury.io/js/fast-brake" target="_blank" rel="noopener noreferrer">
    <img src="https://badge.fury.io/js/fast-brake.svg" alt="npm version" />
  </a>
  <a href="https://github.com/yowainwright/fast-brake" target="_blank" rel="noopener noreferrer">
    <img src="https://img.shields.io/github/stars/yowainwright/fast-brake?style=social" alt="GitHub stars" />
  </a>
  <a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer">
    <img src="https://img.shields.io/badge/TypeScript-Ready-blue" alt="TypeScript Ready" />
  </a>
  <a href="https://opensource.org/licenses/MIT" target="_blank" rel="noopener noreferrer">
    <img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT" />
  </a>
</div>

## What is fast-brake?

**fast-brake** is an ES feature detection library that analyzes JavaScript code to identify ECMAScript features and verify compatibility with target ES versions. Unlike traditional tools that rely on slow AST parsers, fast-brake uses **high-performance pattern matching** that is significantly faster for compatibility checking.

## Why is fast-brake Game-Changing?

### The Problem

Modern JavaScript development involves managing compatibility across different ES versions and browser targets. Traditional approaches have significant limitations:

- **AST Parsers are Slow**: Tools like Babel parser can take 100ms+ to process 1000 files
- **Build Tool Bottlenecks**: Compatibility checking becomes a performance bottleneck
- **Limited Context**: Simple regex matching without semantic understanding
- **Complex Setup**: Heavy dependencies and complex configuration requirements

```javascript
// Traditional approach - slow and heavy
import { parse } from '@babel/parser';
import traverse from '@babel/traverse';

const ast = parse(code); // Expensive parsing
traverse(ast, {
  ArrowFunctionExpression(path) {
    // Complex AST traversal
  }
});
```

### The fast-brake Solution

fast-brake revolutionizes ES feature detection with **optimized pattern matching**:

- **High-performance regex patterns** - Carefully crafted patterns for each ES feature
- **Single-pass scanning** - Processes code once for all features
- **Early exit optimization** - Stops on first incompatible feature when configured
- **Plugin architecture** - Load only the detection rules you need
- **Zero AST overhead** - No parsing or tree construction required

```javascript
// fast-brake approach - simple and fast
import { detect, check, getMinimumESVersion } from 'fast-brake';

// Process 1000 files in <15ms
const features = detect(code);           // 0.013ms per file
const isCompatible = check(code, { target: 'es5' });
const minVersion = getMinimumESVersion(code);
```

## Performance Comparison

### Plugin Configuration Performance

Choose the right plugin configuration for your needs:

| Plugin Configuration | Time (ms) | Ops/sec | vs Single ES5 | Features Detected |
|---------------------|-----------|---------|---------------|-------------------|
| **Telemetry Detection** | **0.202** | **4,951** | **2.03x** | 2 |
| Single ES5 | 0.410 | 2,439 | 1.00x | 244 |
| All ES Versions | 0.427 | 2,343 | 0.96x | 244 |
| All + Browser Compat | 0.665 | 1,504 | 0.62x | 244 |
| Kitchen Sink (All) | 0.926 | 1,080 | 0.44x | 246 |

*Benchmarked on Apple M4, 2025-08-22*

### Parser Comparison - ES2015 Files

| Parser | Time (ms) | Ops/sec | Relative Speed |
|--------|-----------|---------|----------------|
| **fast-brake (es2015 only)** | **0.001** | **1,063,499** | **85.2x** |
| **fast-brake (all ES)** | **0.001** | **980,954** | **78.6x** |
| **fast-brake** | **0.080** | **12,488** | **1.0x** |
| cherow | 0.017 | 59,309 | 4.7x |
| meriyah | 0.019 | 51,507 | 4.1x |
| esprima | 0.026 | 38,728 | 3.1x |
| @babel/parser | 0.058 | 17,231 | 1.4x |

### Parser Comparison - ES5 Files  

| Parser | Time (ms) | Ops/sec | Relative Speed |
|--------|-----------|---------|----------------|
| **fast-brake (all + browser)** | **0.001** | **771,109** | **44.1x** |
| **fast-brake (es2015 only)** | **0.001** | **731,797** | **41.8x** |
| **fast-brake (all ES)** | **0.002** | **631,048** | **36.1x** |
| **fast-brake** | **0.057** | **17,503** | **1.0x** |
| meriyah | 0.015 | 66,758 | 3.8x |
| cherow | 0.017 | 57,947 | 3.3x |
| esprima | 0.021 | 48,011 | 2.7x |
| @babel/parser | 0.050 | 20,179 | 1.2x |

*All benchmarks run on Apple M4, 2025-08-29*

## Key Benefits

- ** Lightning Fast**: Up to 85x faster with targeted plugins, 3-4x faster than parsers in general use
- ** Zero Dependencies**: Lightweight with no runtime dependencies
- ** Pattern Matching**: Optimized regex-based detection without AST overhead
- ** Plugin Architecture**: Load only the detection rules you need
- ** Comprehensive Coverage**: Supports ES5 through ES2025 (40+ features)
- ** Simple API**: Intuitive interface with TypeScript support
- ** Location Data**: Optional AST-like location information (line, column, offset)
- ** Performance First**: Optimized for build tools and CI/CD pipelines

## Perfect For

### Build Tools & Bundlers
```javascript
import { check } from 'fast-brake';

// Validate compatibility before bundling
if (!check(sourceCode, { target: 'es2015' })) {
  console.warn('Code requires transpilation');
}
```

### Linting & CI/CD
```javascript
import { fastBrake } from 'fast-brake';

// Fail builds on incompatible features
try {
  fastBrake(code, { target: 'es2018' });
} catch (error) {
  console.error(`Compatibility error: ${error.message}`);
  process.exit(1);
}
```

### Dynamic Polyfill Loading
```javascript
import { getMinimumESVersion } from 'fast-brake';

const requiredVersion = getMinimumESVersion(userCode);
if (requiredVersion !== 'es5') {
  loadPolyfills(requiredVersion);
}
```

### Code Analysis Tools
```javascript
import { detect } from 'fast-brake';

const features = detect(codebase);
const modernFeatures = features.filter(f => 
  ['es2020', 'es2021', 'es2022'].includes(f.version)
);
```

## Installation & Quick Start

```bash
npm install fast-brake
```

```javascript
import { fastBrake, detect, check, getMinimumESVersion } from 'fast-brake';

// Detect all ES features
const features = detect('const x = () => {}');
// [{ name: 'arrow_functions', version: 'es2015', line: 1, column: 11 }]

// Check compatibility
const isES5Compatible = check('const x = () => {}', { target: 'es5' });
// false

// Get minimum version
const minVersion = getMinimumESVersion('const x = () => {}');
// 'es2015'

// Throw on incompatible features
fastBrake('const x = () => {}', { target: 'es5' });
// Error: ES feature "arrow_functions" requires es2015 but target is es5
```

## Supported ES Features

fast-brake detects **30+ ES features** across all major versions:

- **ES2015**: Arrow functions, classes, template literals, let/const, destructuring, spread/rest, for-of loops
- **ES2016**: Exponentiation operator (**)
- **ES2017**: Async/await functions
- **ES2018**: Async iteration, rest/spread properties
- **ES2019**: Array.flat(), Array.flatMap()
- **ES2020**: Optional chaining (?.), nullish coalescing (??), BigInt, Promise.allSettled
- **ES2021**: Logical assignment (||=, &&=, ??=), numeric separators, String.replaceAll
- **ES2022**: Private fields (#), static blocks, Array.at(), Object.hasOwn(), top-level await

## Advanced Features

### Location Data (NEW)
```javascript
const features = detect(code, { includeLoc: true });
// Returns AST-like location information:
// {
//   name: 'arrow_functions',
//   version: 'es2015',
//   loc: {
//     start: { line: 1, column: 15 },
//     end: { line: 1, column: 17 },
//     offset: 14,
//     length: 2
//   }
// }
```

### Plugin-Based Detection
```javascript
import { detectWithPlugins } from 'fast-brake';

// Use specific plugins for maximum performance
const features = detectWithPlugins(code, ['es2015']); // 85x faster!
const features = detectWithPlugins(code, ['all']);    // All ES versions
```

## Ready to Get Started?

fast-brake makes ES feature detection simple, fast, and accurate. Whether you're building tools, linting code, or analyzing compatibility, fast-brake delivers the performance you need without sacrificing accuracy.

[Get Started →](/api-reference) | [View Architecture →](/architecture) | [See Examples →](/advanced-features)